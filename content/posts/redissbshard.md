---
title: "Redis 分库"
date: 2020-08-19T11:39:33+08:00
draft: false
---

最近在做一个新项目，暂时在测试环境部署。需要向Redis中造一些假数据，于是写了几行代码批量插入了一些。
插入并打印出结果之后redis-cli中再查一下，结果发现empty set or list。
以为是进错了Redis，但是仔细检查之后发现也没问题，于是打开Redis的monitor，发现运行代码时确实进行了插入操作，也没有任何过期、删除之类的操作与可能性，但是就是查不出来。
和leader想了想，他疑惑了一会突然恍然大悟:他怕和测试环境其他的项目互相影响，在代码中Redis的配置中设置了Db:1，删除配置之后果然正常了。
原来Redis也可以像MySQL分表一样，默认分了16个Db，之前在monitor的时候，有一个select 1 的操作，应该就是对应了配置中关于Db的项。
